{
  "id": "00ecfa56d9c74216",
  "title": "cash issuing terminals",
  "url": "https://computer.rip/2026-02-27-ibm-atm.html",
  "content": "<p>In the United States, we are losing our fondness for cash. As in many other\ncountries, cards and other types of electronic payments now dominate everyday\ncommerce. To some, this is a loss. Cash represented a certain freedom from\nintermediation, a comforting simplicity, that you just don't get from Visa.\nIt's funny to consider, then, how cash is in fact quite amenable to automation.\nEven Benjamin Franklin's face on a piece of paper can feel like a mere proxy\nfor a database transaction. How different from &quot;e-cash&quot; is cash itself, when\nit starts and ends its lifecycle through automation?</p>\n<p>Increasing automation of cash reflects the changing nature of banking: decades\nago, a consumer might have interacted with banking primarily through a &quot;passbook&quot;\nsavings account, where transactions were so infrequent that the bank recorded\nthem directly in the patron's copy of the passbook. Over the years, nationwide\ntravel and nationwide communications led to the ubiquitous use of inter-bank\nmoney transfers, mostly in the form of the check. The accounts that checks\ntypically drew on—checking accounts—were made for convenience and ease of\naccess. You might deposit your entire paycheck into an account, it might even\nbe sent there automatically... and then when you needed a little walking around\nmoney, you would withdraw cash by the assistance of a teller. By the time I was\na banked consumer, even the teller was mostly gone. Today, we get our cash from\nmachines so that it can be deposited into other machines.</p>\n<p><img alt=\"IBM 2984 ATM\" src=\"https://computer.rip/static/img/ibm_atm/1.jpg\" /></p>\n<p>Cash handling is fraught with peril. Bills are fairly small and easy to hide,\nand yet quite valuable. Automation in the banking world first focused on solving\nthis problem, of reliable and secure cash handling within the bank branch. The\nprimary measure against theft by insiders was that the theft would be discovered,\nas a result of the careful bookkeeping that typifies banks. But, well, that\nbookkeeping was surprisingly labor-intensive in even the bank of the 1950s.</p>\n<p>Histories of the ATM usually focus on just that: the ATM. It's an interesting\nstory, but one that I haven't been particularly inclined to cover due to the\nlack of a compelling angle. Let's try IBM. IBM is such an important, famous\nplayer in business automation that it forms something of a synecdoche for the\nlarger industry. Even so, in the world of bank cash handling, IBM's efforts\nultimately failed... a surprising outcome, given their dominance in the machines\nthat actually did the accounting.</p>\n<p>In this article, we'll examine the history of ATMs—by IBM. IBM was just one of\nthe players in the ATM industry and, by its maturity, not even one of the more\nimportant ones. But the company has a legacy of banking products that put the\nATM in a more interesting context, and despite lackluster adoption of later IBM\nmodels, their efforts were still influential enough that later ATMs inherited\nsome of IBM's signature design concepts. I mean that more literally than you\nmight think. But first, we have to understand where ATMs came from. We'll start\nwith branch banking.</p>\n<p>When you open a bank account, you typically do so at a &quot;branch,&quot; one of many\nphysical locations that a national bank maintains. Let us imagine that you are\nopening an account at your local branch of a major bank sometime around 1930;\nwhether before or after that year's bank run is up to you. Regardless of the\nturbulent economic times, the branch became responsible for tracking the balance\nof your account. When you deposit money, a teller writes up a slip. When you\ncome back and withdraw money, a different teller writes up a different slip. At\nthe end of each business day, all of these slips (which basically constitute\na journal in accounting terminology) have to be rounded up by the back office\nand posted to the ledger for your account, which was naturally kept as a card in\na big binder.</p>\n<p>A perfectly practicable 1930s technology, but you can already see the downsides.\nImagine that you appear at a <em>different</em> branch to withdraw money from your\naccount. Fortunately this was not very common at the time, and you would be more\nlikely to use other means of moving money in most scenarios. Still, the bank\ntries to accommodate. The branch at which you have appeared can dispense cash,\nwrite a slip, and then send it to the correct branch for posting... but they\nalso need to post it to their own ledger that tracks transactions for foreign\naccounts, since they need to be able to reconcile where their cash went. And\nthat ignores the whole issue of who you are, whether or not you even have an\naccount at another branch, and whether or not you have enough money to cover the\nwithdrawal. Those are problems that, mercifully, could mostly be sorted out with\na phone call to your home branch.</p>\n<p>Bank branches, being branches, do not exist in isolation. The bank also has a\nheadquarters, which tracks the finances of its various branches—both to know the\nbank's overall financial posture (critical considering how banks fail), and to\nprovide controls against insider theft. Yes, that means that each of the branch\nbanks had to produce various reports and ledger copies and then send them by\ncourier to the bank headquarters, where an army of clerks in yet another back\noffice did yet another round of arithmetic to produce the bank's overall\nledgers.</p>\n<p>As the United States entered World War II, an expanding economy, rapid\nindustrial buildup, and a huge increase in national mobility (brought on by\nthings like the railroads and highways) caused all of these tasks to occur on\nlarger and larger scales. Major banks expanded into a tiered system, in which\nbranches reported their transactions to &quot;regional centers&quot; for reconciliation\nand further reporting up to headquarters. The largest banks turned to unit\nrecord equipment or &quot;business machines,&quot; arguably the first form of business\ncomputing: punched card machines that did not evaluate programs, but sorted and\nsummed.</p>\n<p>Simple punched card equipment gave way to advanced punched card equipment,\ninnovations like the &quot;posting machine.&quot; These did exactly what they promised:\ngiven a stack of punched cards encoding transactions, they produced a ledger\nwith accurately computed sums. Specialized posting machines were made for\nindustries ranging from hospitality (posting room service and dining charges\nto room folios) to every part of finance, and might be built custom to the\nbusiness process of a large customer.</p>\n<p>If tellers punched transactions into cards, the bank could come much\ncloser to automation by shipping the cards around for processing at each office.\nBut then, if transactions are logged in a machine readable format, and then\nprocessed by machines, do we really need to courier them to rooms full of\nclerks?</p>\n<p>Well, yes, because that was the state of technology in the 1930s. But it would\nnot stay that way for long.</p>\n<p>In 1950, Bank of America approached SRI about the feasibility of an automated\ncheck processing system. Use of checks was rapidly increasing, as were total\naccount holders, and the resulting increase in inter-branch transactions was\nclearly overextending BoA's workforce—to such an extent that some branches were\ncurtailing their business hours to make more time for daily closing. By 1950,\ncomputer technology had advanced to such a state that it was obviously possible\nto automate this activity, but it still represented one of the most ambitious\nefforts in business computing to date.</p>\n<p>BoA wanted a system that would not only automate the posting of transactions\nprepared by tellers, but actually automate the handling of the checks\nthemselves. SRI and, later, their chosen manufacturing partner General Electric\nran a multi-year R&amp;D campaign on automated check handling that ultimately lead\nto the design of the checks that we use today: preprinted slips with account\nholder information, and account number, already in place. And, most importantly,\ncertain key fields (like account number and check number) represented in a newly\ndeveloped machine-readable format called &quot;MICR&quot; for magnetic ink character\nrecognition. This format remains in use today, to the extent that checks remain\nin use, although as a practical matter MICR has given way to the more familiar\nOCR (aided greatly by the constrained and standardized MICR character set).</p>\n<p>The machine that came out of this initiative was called ERMA, the Electronic\nRecording Machine, Accounting. I will no doubt one day devote a full article\nto ERMA, as it holds a key position in the history of business computing while\nalso managing to not have much of a progeny due to General Electric's failure to\nbecome a serious contender in the computer industry. ERMA did not lead to a\nwhole line of large-scale &quot;ERM&quot; business systems as GE had hoped, but it did\nfirmly establish the role of the computer in accounting, automate parts of the\nbookkeeping through almost the entirety of what would become the nation's\nlargest bank, and inspire generations of products from other computer\nmanufacturers.</p>\n<p>The first ERMA system went into use in 1959. While IBM was the leader in unit\nrecord equipment and very familiar to the banking industry, it took a few years\nfor Big Blue to bring their own version. Still, IBM had their own legacy to\nbuild on, including complex electromechanical machines that performed some of\nthe tasks that ERMA was taking over. Since the 1930s, IBM had produced a line of\ncheck processing or &quot;proofing&quot; machines. These didn't exactly &quot;automate&quot; check\nhandling, but they did allow a single operator to handle a <em>lot</em> of documents.</p>\n<p>The IBM 801, 802, and 803 line of check proofers used what were fundamentally\nunit record techniques—keypunch, sorting bins, mechanical totalizers—to present\nchecks one at a time in front of the operator, who read information like the\namount, account number, and check number off of the paper slip and entered it\non a keypad. The machine then whisked the check away, printing the keyed data\n(and reference numbers for auditing) on the back of the check, stamped an\nendorsement, added the check's amounts to the branch's daily totals (including\nsubtotals by document type), and deposited the check in an appropriate sorter\nbin to be couriered to the drawer's bank. While all this happened, the machines\nalso printed the keyed check information and totals onto paper tapes.</p>\n<p>By the early 1960s, with ERMA on the scene, IBM's started to catch up.\nSubsequent check processing systems gained support for MICR, eliminating much\n(sometimes all!) of the operator's keying. Since the check proofing machines\ncould also handle deposit slips, a branch that generated MICR-marked deposit\nslips could eliminate most of the human touchpoints involved in routine banking.\nA typical branch bank setup might involve an IBM 1210 document\nreader/sorter machine connected by serial channel to an IBM 1401 computer.\nThis system behaved much like the older check proofers, reading documents,\nlogging them, and calculating totals. But it was now all under computer control,\nwith the flexibility and complexity that entails.</p>\n<p>One of these setups could process almost a thousand checks a minute with a\nlittle help from an operator, and adoption of electronic technology at other\nstages made clerk's lives easier. For example, IBM's mid-1960s equipment\nintroduced solid-state memory. The IBM 1260 was used for adding machine-readable\nMICR data to documents that didn't already have it. Through an innovation that\nwe would now call a trivial buffer, the 1260's operator could key in the numbers\nfrom the next document while the printer was still working on the previous.</p>\n<p>Along with improvements in branch bank equipment came a new line of &quot;high-speed&quot;\nsystems. In a previous career, I worked at a Federal Reserve bank, where\n&quot;high-speed&quot; was used as the name of a department in the basement vault. There,\nhuge machines processed currency to pick out bad bills. This use of &quot;high-speed&quot;\nseems to date to an IBM collaboration with the Federal Reserve to build machines\nfor central clearinghouses, handling checks by the tens of thousands. By the\ntime I found myself in central banking, the use of &quot;high-speed&quot; machinery for\nchecks was a thing of the past—&quot;digital substitute&quot; documents or image-based\nclearing having completely replaced physical handling of paper checks. Still,\nthe &quot;high-speed&quot; staff labored on in their ballistic glass cages, tending to the\ngreen paper slips that the institution still dispenses by the millions.</p>\n<p><img alt=\"IBM service documentation\" src=\"https://computer.rip/static/img/ibm_atm/2.png\" /></p>\n<p>One of the interesting things about the ATM is when, exactly, it pops up in the\nhistory of computers. We are, right now, in the 1960s. The credit card is in its\nnascent stages, MasterCard's predecessor pops up in 1966 to compete with Bank of\nAmerica's own partially ERMA-powered charge card offering. With computer systems\nmaintaining account sums, and document processing machines communicating with\nbookkeeping computers in real-time, it would seem that we are on the very cusp\nof online transaction authorization, which must be the fundamental key to the\nATM. ATMs hand out cash, and one thing we all know about cash is that once you\ngive yours to someone else you are very unlikely to get it back. ATMs, therefore,\nmust not dispense cash unless they can confirm that the account holder is &quot;good\nfor it.&quot; Otherwise the obvious fraud opportunity would easily wipe out the\nbenefits.</p>\n<p>So, what do you do? It seems obvious, right? You connect the ATM to the\nbookkeeping computer so it can check account balances before dispensing cash.\nSimple enough.</p>\n<p>But that's not actually how the ATM evolved, not at all. There are plenty of\nreasons. Computers were very expensive so banks centralized functions and not\nall branches had one. Long-distance computer communication links were very\nexpensive as well, and still, in general, an unproven technology. Besides, the\ncomputer systems used by banks were fundamentally batch-mode machines, and it\nwas difficult to see how you would shove an ATM's random interruptions into the\nprogramming model.</p>\n<p>Instead, the first ATMs were token-based. Much like an NYC commuter of the era\ncould convert cash into a subway token, the first ATMs were machines that\nconverted tokens into cash. You had to have a token—and to get one, you appeared\nat a teller during business hours, who essentially dispensed the token as if it\nwere a routine cash withdrawal.</p>\n<p>It seems a little wacky to modern sensibilities, but keep in mind that this was\nthe era of the traveler's check. A lot of consumers didn't want to carry a lot\nof cash around with them, but they did want to be able to get cash after hours.\nBy seeing a teller to get a few ATM tokens (usually worth $10 or £10 and\nsometimes available only in that denomination), you had the ability to retrieve\ncash, but only carried a bank document that was thought (due to features like\nrevocability and the presence of ATMs under bank surveillance) to be relatively\nsecure against theft. Since the tokens were later &quot;cleared&quot; against accounts\nmuch like checks, losing them wasn't necessarily a big deal, as something\nanalogous to a &quot;stop payment&quot; was usually possible.</p>\n<p>Unlike subway tokens, these were not coin-shaped. The most common scheme was a\npaper card, often the same dimensions as a modern credit card, but with punched\nholes that encoded the denomination and account holder information. The punched\nholes were also viewed as an anti-counterfeiting measure, probably not one that\nwould hold up today, but still a roadblock to fraudsters who would have a hard\ntime locating a keypunch and a valid account number. Manufacturers also\nexplored some other intriguing opportunities, like the very first production\ncash dispenser, 1967's Barclaycash machine. This proto-ATM used punched paper\ntokens that were also printed in part with a Carbon-14 ink. Carbon-14 is\nunstable and emits beta radiation, which the ATM detected with a simple\nelectrostatic sensor. For some reason difficult to divine the radioactive\nATM card did not catch on.</p>\n<p>For roughly the first decade of the &quot;cash machine,&quot; they were offline devices\nthat issued cash based on validating a token. The actual decision making, on\nthe worthiness of a bank customer to withdraw cash, was still deferred to the\nteller who issued the tokens. Whether or not you would even consider this an ATM\nis debatable, although historical accounts generally do. They are certainly of a\ndifferent breed than the modern online ATM, but they also set some of the\npatterns we still follow. Consider, for example, the ATMs within my lifespan\nthat accepted deposits in an envelope. These ATMs did nothing with the envelopes\nother than accumulate them into a bin to go to a central processing center later\non—the same way that early token-based ATMs introduced deposit boxes.</p>\n<p>In this theory of ATM evolution, the missing link that made\n1960s-1970s ATMs so primitive was the lack of computer systems that were\namenable to real-time data processing using networked peripherals. The '60s and\n'70s were a remarkable era in computer history, though, seeing the introduction\nof IBM's System/360 and System/370 line. These machines were more powerful,\nmore flexible, and more interoperable than any before them. I think it's fair to\nsay that, despite earlier dabbling, it was the 360/370 that truly ushered in the\nera of business computing. Banks didn't miss out.</p>\n<p>One of the innovations of the System/360 was an improved and standardized\narchitecture for the connection of peripherals to the machine. While earlier\nIBM models had supported all kinds of external devices, there was a lot of\ncustom integration to make that happen. With the System/360, this took the form\nof &quot;Bisync,&quot; which I might grandly call a far ancestor of USB. Bisync allowed a\n360 computer to communicate with multiple peripherals connected to a common\nmulti-drop bus, even using different logical communications protocols. While the\nfirst Bisync peripherals were &quot;remote job entry&quot; terminals for interacting\nwith the machine via punched cards and teletype, IBM and other manufacturers\nfound more and more applications in the following years.</p>\n<p><img alt=\"IBM 3214 ATM\" src=\"https://computer.rip/static/img/ibm_atm/3.png\" /></p>\n<p>IBM had already built document processing machines that interacted with their\ncomputers. In 1971, IBM joined the credit card fray with the 2730, a\n&quot;transaction&quot; terminal that we would now recognize as a credit card reader. It\nused a Bisync connection to a System/360-class machine to authorize a credit\ntransaction in real time. The very next year, IBM took the logical next step:\nthe IBM 2984 Cash Issuing Terminal. Like many other early ATMs, the 2984 had its\ndebut in the UK as Lloyds Bank's &quot;Cashpoint.&quot;</p>\n<p>The 2984 similarly used Bisync communications with a System/360. While not the\nvery first implementation of the concept, the 2984 was an important step in ATM\nsecurity and the progenitor of an important line of cryptographic algorithms.\nTo withdraw cash, a user inserted a magnetic card that contained an account\nnumber, and then keyed in a PIN. The 2984 sent this information, over the Bisync\nconnection, to the computer, which then responded with a command such as\n&quot;dispense cash.&quot; In some cases the computer was immediately on the other side of\nthe wall, but it was already apparent that banks would install ATMs in remote\nlocations controlled via leased telephone lines—and those telephone lines were\nnot well-secured. A motivated attacker (and with cash involved, it's easy to be\nmotivated!) could probably &quot;tap&quot; the ATM's network connection and issue it\nspurious &quot;dispense cash&quot; commands. To prevent this problem, and assuage the\nconcerns of bankers who were nervous about dispensing cash so far from the\nbranch's many controls, IBM decided to <em>encrypt</em> the network connection.</p>\n<p>The concept of an encrypted network connection was not at all new; encrypted\ncommunications were widely used in the military during the second World War and\nthe concept was well-known in the computer industry. As IBM designed the 2984,\nin the late '60s, encrypted computer links were nonetheless very rare. There\nwere not yet generally accepted standards, and cryptography as an academic\ndiscipline was immature.</p>\n<p>IBM, to secure the 2984's network connection, turned to an algorithm recently\ndeveloped by an IBM researcher named Horst Feistel. Feistel, for silly reasons,\nhad named his family of experimental block ciphers LUCIFER. For the 2984, a\nmodified version of one of the LUCIFER implementations called DSD-1<sup class=\"footnote-ref\" id=\"fnref-1\"><a href=\"#fn-1\">1</a></sup>. Through\na Bureau of Standards design competition and the twists and turns of industry\npolitics, DSD-1 later reemerged (with just slight changes) as the Data Encryption\nStandard, or DES. We owe the humble ATM honors for its key role in computer\ncryptography.</p>\n<p>The 2984 was a huge step forward. Unlike the token-based machines of the 1960s,\nit was pretty much the same as the ATMs we use today. To use a 2984, you\ninserted your ATM card and entered a PIN. You could then choose to check your\nbalance, and then enter how much cash you wanted. The machine checked your\nbalance in real time and, if it was high enough, debited your account\nimmediately before coughing up money.</p>\n<p>The 2984 was not as successful as you might expect. The Lloyd's Bank rollout was\nbig, but very few were installed by other banks. Collective memory of the 2984\nis vague enough that I cannot give a definitive reason for its limited success,\nbut I think it likely comes down to a common tale about IBM: price and\nflexibility. The 2984 was essentially a semi-custom peripheral, designed for\nLloyd's Bank and the specific System/360 environment already in place there.\nAdoption for other banks was quite costly. Besides, despite the ATM's lead in\nthe UK, the US industry had quickly caught up. By the time the 2984 would be\nconsidered by other banks, there were several different ATMs available in the US from\nother manufacturers (some of them the same names you see on ATMs today). The\n2984 is probably the first &quot;modern&quot; ATM, but since IBM spent 4-5 years\ndeveloping it, it was not as far ahead of the curve on launch day as you might\nexpect. Just a year or two later, a now-forgotten company called Docutel was\ndominating the US market, leaving IBM little room to fit in.</p>\n<p>Because most other ATMs were offered by companies that didn't control the entire\nsoftware stack, they were more flexible, designed to work with simpler host\nsupport. There is something of an inverse vertical integration penalty here:\nwhen introducing a new product, close integration with an existing product\nfamily makes it difficult to sell! Still, it's interesting that the 2984 used\npretty much the same basic architecture as the many ATMs that followed. It's\nworth reflecting on the 2984's relationship with its host, a close dependency\nthat generally holds true for modern ATMs as well.</p>\n<p>The 2984 connected to its host via a Bisync channel (possibly over various\ncarrier or modem systems to accommodate remote ATMs), a communications facility\noriginally provided for remote job entry, the conceptual ancestor of IBM's later\nblock-oriented terminals. That means that the host computer expected the\nperipheral to provide some input for a job and then wait to be sent the results.\nRemote job entry devices, and block terminals later, can be confusing when\ncompared to more familiar, Unix-family terminals. In some ways, they were quite\nsophisticated, with the host computer able to send configuration information\nlike validation rules for input. In other ways, they were very primitive,\ncapable of no real logic other than receiving computer output (which was dumped\nto cards, TTY, or screen) and then sending computer input (from much the same\ndevices). So, the ATM behaved the same way.</p>\n<p>In simple terms, the ATM's small display (called a VDU or Video Display Unit in\ntypical IBM terminology) showed whatever the computer sent as the body of a\n&quot;display&quot; command. It dispensed whatever cash the computer indicated with a\n&quot;dispense cash&quot; command. Any user input, such as reading a card or entry of a\nPIN number, was sent directly to the computer. The host was responsible for all\nof the actual logic, and the ATM was a dumb terminal, just doing exactly what\nthe computer said. You can think of the Cash Issuing Terminal as, well, just\nthat: a mainframe terminal with a weird physical interface.</p>\n<p><img alt=\"IBM 4700 series documentation\" src=\"https://computer.rip/static/img/ibm_atm/4.png\" /></p>\n<p>Most modern ATMs follow this same model, although the actual protocol has\nbecome more sophisticated and involves a great deal more XML. You can be\nreassured that when the ATM takes a frustratingly long time to advance to the\nnext screen, it is at least waiting to receive the contents of that screen from\na host computer that is some distance away or, even worse, in The Cloud.</p>\n<p>Incidentally, you might wonder about the software that ran on the host computer.\nI believe that the IBM 2984 was designed for use with CICS, the Customer\nInformation Control System. CICS will one day get its own article, but it\nlaunched in 1966, built specifically for the Michigan Bell to manage customer\nand billing data. Over the following years, CICS was extensively expanded for\nuse in the utility and later finance industries. I don't think it's inaccurate\nto call CICS the first &quot;enterprise customer relationship management system,&quot;\nthe first voyage in an adventure that took us through Siebel before grounding\non the rocks of Salesforce. Today we wouldn't think of a CRM as the system of\nrecord for depository finance institutions like banks, but CICS itself was\nvery finance-oriented from the start (telephone companies sometimes felt like\naccounting firms that ran phones on the side) and took naturally to gathering\ntransactions and posting them against customer accounts. Since CICS was designed\nas an online system to serve telephone and in-person customer service reps (in\nfact making CICS a very notable early real-time computing system), it was also a\ngood fit for handling ATM requests throughout the day.</p>\n<div class=\"beg\">\n<hr />\n<p>I put a lot of time into writing this, and I hope that you enjoy reading\nit. If you can spare a few dollars, consider <a href=\"https://ko-fi.com/jbcrawford\">supporting me on\nko-fi</a>. You'll receive an occasional extra,\nsubscribers-only post, and defray the costs of providing artisanal, hand-built\nworld wide web directly from Albuquerque, New Mexico.</p>\n<hr />\n</div>\n<p>Despite the 2984's lackluster success, IBM moved on. I don't think IBM was\nparticularly surprised by the outcome, the 2984 was always a &quot;request quotation&quot;\n(e.g. custom) product. IBM probably regarded it as a prototype or pilot with\ntheir friendly customer Lloyds Bank. More than actual deployment, the 2984's\nachievement was paving the way for the IBM 3614 Consumer Transaction Facility.</p>\n<p>In 1970, IBM had replaced the System/360 line with the System/370. The 370 is\ndirectly based on the 360 and uses the same instruction set, but it came with\nnumerous improvements. Among them was a new approach to peripheral connectivity\nthat developed into the IBM Systems Network Architecture, or SNA, basically\nIBM's entry into the computer networking wars of the 1970s and 1980s. While SNA\nwould ultimately cede to IP (with, naturally, an interregnum of SNA-over-IP),\nit gave IBM the foundations for networked systems that are <em>almost</em> modern in\ntheir look and feel.</p>\n<p>I say <em>almost</em> because SNA was still very much a mainframe-oriented design. An\nexample SNA network might look like this: An S/370 computer running CICS (or\none of several other IBM software packages with SNA support) is connected via\nchannel (the high-speed peripheral bus on mainframe computers, analogous to PCI)\nto an IBM 3705 Communications Controller running the Network Control Program\n(analogous to a network interface controller). The 3705 had one or more\n&quot;scanners&quot; installed, which supported simple low-speed serial lines or fast,\nhigh-level protocols like SDLC (synchronous data link control) used by SNA. The\n3705 fills a role sometimes called a &quot;front-end processor,&quot; doing the grunt work\nof polling (scanning) communications lines and implementing the SDLC protocol\nso that the &quot;actual computer&quot; was relieved of these menial tasks.</p>\n<p>At the other end of one of the SDLC links might be an IBM 3770 Data\nCommunications System, which was superficially a large terminal that, depending\non options ordered, could include a teletypewriter, card reader and punch,\ndiskette drives, and a high speed printer. Yes, the 3770 is basically a grown-up\nremote job entry terminal, and the SNA/SDLC stack was a direct evolution from\nthe Bisync stack used by the 2984. The 3770 had a bit more to offer, though:\nin order to handle its multiple devices, like the printer and card punch, it\nacted as a sort of network switch—the host computer identified the 3770's\ndevices as separate endpoints, and the 3770 interleaved their respective\ntraffic. It could also perform that interleaving function for additional\nperipherals connected to it by serial  lines, which depending on customer\nrequirements often included additional card punches and readers for data entry,\nor line printers for things like warehouse picking slips.</p>\n<p>In 1973, IBM gave banks the SNA treatment with the 3600 Finance Communication\nSystem <sup class=\"footnote-ref\" id=\"fnref-2\"><a href=\"#fn-2\">2</a></sup>. A beautifully orange brochure tells us:</p>\n<blockquote>\n<p>The IBM 3600 Finance Communication System is a family of products designed to\nprovide the Finance Industry with remote on-line teller station operation.</p>\n</blockquote>\n<p>System/370 computers represented an enormous investment, generally around a\nmillion dollars and more often above that point than below. They were also large\nand required both infrastructure and staff to support them. Banks were already\nnot inclined to install an S/370 in each branch, so it became a common pattern\nto place a &quot;full-size&quot; computer like an S/370 in a central processing center to\nsupport remote peripherals (over leased telephone line) in branches. The 3600\nwas a turn-key product line for exactly this use.</p>\n<p>An S/370 computer with a 3704 or 3705 running the NCP would connect (usually\nover a leased line) to a 3601 System, which IBM describes as a\n&quot;programmable communications controller&quot; although they do not seem to have\nelevated that phrase to a product name. The 3601 is basically a minicomputer of\nits own, with up to 20KB of user-available memory and diskette drive. A 3601\nincludes, as standard, a 9600 bps SDLC modem for connection to the host, and a\n9600 bps &quot;loop&quot; interface for a local multidrop serial bus. For larger\ninstallations, you could expand a 3601 with additional local loop interfaces or\n4800 or 9600 bps modems to extend the local loop interface to a remote location\nvia telephone line.</p>\n<p>In total, a 3601 could interface up to five peripheral loops with the host\ncomputer over a single interleaved SDLC link. But what would you put on those\nperipheral loops? Well, the 3604 Keyboard Display Unit was the mainstay, with\na vacuum fluorescent display and choice of &quot;numeric&quot; (accounting, similar to a\ndesk calculator) or &quot;data entry&quot; (alphabetic) keyboard. A bank would put one of\nthese 3604s in front of each teller, where they could inquire into customer\naccounts and enter transactions. In the meantime, 3610 printers provided\ngeneral-purpose document printing capability, including back-office journals\n(logging all transactions) or filling in pre-printed forms such as receipts\nand bank checks. Since the 3610 was often used as a journal printer, it was\navailable with a take-up roller that stored the printed output under a locked\ncover. In fact, basically every part of the 3600 system was available with a\nkey switch or locking cover, a charming reminder of the state of computer\nsecurity at the time.</p>\n<p>The 3612 is a similar printer, but with the addition of a\ndedicated passbook feature. Remember passbook savings accounts, where the bank\nwrites every transaction in a little booklet that the customer keeps? They were\nstill around, although declining in use, in the 1970s. The 3612 had a slot on\nthe front where an appropriately formatted passbook could be inserted, and like\na check validator or slip printer, it printed the latest transaction onto the\nnext empty line. Finally, the 3618 was a &quot;medium-speed&quot; printer, meaning 155 lines per minute.\nA branch bank would probably have one, in the back office, used for printing\ndaily closing reports and other longer &quot;administrative&quot; output.</p>\n<p><img alt=\"IBM 4700 series documentation\" src=\"https://computer.rip/static/img/ibm_atm/5.png\" /></p>\n<p>A branch bank could carry out all of its routine business through the 3600\nsystem, including cash withdrawals. In fact, since a customer withdrawing cash\nwould end up talking to a teller who simply keyed the transaction into a 3604,\nit seems like a little more automation could make an ATM part of the system.</p>\n<p>Enter the 3614 Consumer Transaction Facility, the first IBM ATM available as a\nregular catalog item. The 3614 is actually fairly obscure, and doesn't seem to\nhave sold in large numbers. Some sources suggest that it was basically the same\nas the 2984, but with a general facelift and adaptations to connect to a 3601 Finance Communication\nController instead of directly to a front-end processor. Some features which\nwere optional on the 2984, like a deposit slot, were apparently standard on 3614.\nI'm not even quite sure when the 3614 was introduced, but based on manual\ncopyright dates they must have been around by 1977.</p>\n<p>One of the reasons the 3614 is obscure is that its replacement, the IBM 3624\nConsumer Transaction Facility, hit the market in 1978—probably very shortly\nafter the 3614. The 3624 was functionally very similar to the 3614, but with\nmaintainability improvements like convenient portable cartridges for storing\ncash. It also brought a completely redesigned front panel that is more similar\nto modern ATMs. I should talk about the front panels—the IBM ATMs won a few\ndesign awards over their years, and they were really very handsome machines.\nThe backlit logo panel and function-specific keys of the 3624 look more pleasant\nto use than most modern ATMs, although they would of course render translation\ndifficult.</p>\n<p>The 3614/3624 series established a number of conventions that are still in use\ntoday. For example, they added an envelope deposit system in which the machine\naccepted an envelope (with cash or checks) and printed a transaction identifier\non the outside of the envelope for lookup at the processing center. This\nrelieved the user of writing up a deposit slip when using the ATM. It was also\ncapable of not only reading but, optionally, writing to the magnetic strips on\nATM cards. To the modern reader that sounds strange, but we have to discuss one\nof the most enduring properties of the 3614/3624: their handling of PIN numbers.</p>\n<p>I believe the 2984 did something fairly similar, but the details are now obscure\n(and seem to get mixed up with its use of LUCIFER/DSD-1/DES for communications).\nThe 3614/3624, though, so firmly established a particular approach to PIN\nnumbers that it is now known as the 3624 algorithm. Here's how it works: the\nATM reads the card number (called Primary Account Number or PAN) off of the\nATM card, reads a key from memory, and then applies a convoluted cryptographic\nalgorithm to calculate an &quot;intermediate PIN&quot; from it. The &quot;intermediate pin&quot;\nis then summed with a &quot;PIN offset&quot; stored on the card itself, modulo 10, to\nproduce the PIN that the user is actually expected to enter. This means that\nyour &quot;true&quot; PIN is a static value calculated from your card number and a key,\nbut as a matter of convenience, you can &quot;set&quot; a PIN of your choice by using an\nATM that is equipped to rewrite the PIN offset on your card. This same system,\nwith some tweaks and a lot of terminological drift, is still in use today. You\nwill sometimes hear IBM's intermediate PIN called the &quot;natural PIN,&quot; the one\nyou get with an offset of 0, which is a use of language that I find charming.</p>\n<p>Another interesting feature of the 3624 was a receipt printer—I'm not sure if it\nwas the first ATM to offer a receipt, but it was definitely an early one. The\nexact mechanics of the 3624 receipt printer are amusing and the result of some\nhappenstance at IBM. Besides its mainframes and their peripherals, IBM in the\n1970s was was increasingly invested in &quot;midrange computers&quot; or &quot;midcomputers&quot;\nthat would fill in a space between the mainframe and minicomputer—and, most\nimportantly, make IBM more competitive with the smaller businesses that could\nnot afford IBM's mainframe systems and were starting to turn to competitors like\nDEC as a result. These would eventually blossom into the extremely successful\nAS/400 and System i, but not easily, and the first few models all suffered from\ndecidedly soft sales.</p>\n<p>For these smaller computers, IBM reasoned that they needed to offer peripherals\nlike card punches and readers that were also smaller. Apparently following that\nline of thought to a misguided extent, IBM also designed a smaller punch card:\nthe 96-column three-row card, which was nearly square. The only computer ever\nto support these cards was the very first of the midrange line, the 1969\nSystem/3. One wonders if the System/3's limited success lead to excess stock of\n96-column card equipment, or perhaps they just wanted to reuse tooling. In any\ncase, the oddball System/3 card had a second life as the &quot;Transaction Statement\nPrinter&quot; on the 3614 and 3624. The ATM could print four lines of text, 34\ncharacters each, onto the middle of the card. The machines didn't actually punch\nthem, and the printed text ended up over the original punch fields. You could,\nif you wanted, actually order a 3624 with two printers: one that presented the\nslip to the customer, and another that retained it internally for bank auditing.\nA curious detail that would so soon be replaced by thermal receipt printers.</p>\n<p>Unlike IBM's ATMs before it, and, as we will see, unlike those after it as well,\nthe 3624 was a hit. While IBM never enjoyed the dominance in ATMs that they did\nin computers, and companies like NCR and Diebold had substantial market\nshare, the 3624 was widely installed in the late 1970s and would probably be\nrecognized by anyone who was withdrawing cash in that era. The machine had\ntechnical leadership as well: NCR built their successful ATM line in part by\nduplicating aspects of the 3624 design, allowing interoperability with IBM\nbackend systems. Ultimately, as so often happens, it may have been IBM's success\nthat became its undoing.</p>\n<p>In 1983, IBM completely refreshed their branch banking solution with the 4700\nFinance Communication System. While architecturally similar, the 4700 was a big\nupgrade. For one, the CRT had landed: the 4700 peripherals replaced several-line\nVFDs with full-size CRTs typical of other computer terminals, and conventional\ncomputer keyboards to boot. Most radically, though, the 4700 line introduced\n<em>distributed communications</em> to IBM's banking offerings. The 4701 Communications\nController was optionally available with a hard disk, and could be programmed\nin COBOL. Disk-equipped 4701s could operate offline, without a connection to the\nhost, or in a hybrid mode in which they performed some transactions locally and\nonly contacted the host system when necessary. Local records kept by the 4701\ncould be automatically sent to the host computer on a scheduled basis for\nreconciliation.</p>\n<p>Along with the 4700 series came a new ATM: the IBM 473x Personal Banking\nMachines. And with that, IBM's glory days in ATMs came crashing to the ground.\nThe 473x series was such a flop that it is hard to even figure out the model\nnumbers, the 4732 is most often referenced but others clearly existed, including\nthe 4730, 4731, 4736, 4737, and 4738. These various models were introduced from\n1983 to 1988, making up almost a decade of IBM's efforts and very few sales.\nThe 4732 had a generally upgraded interface, including a CRT, but a similar\nfeature set—unsurprising, given that the 3724 had already introduced most of the\nfeatures ATMs have today. It also didn't sell. I haven't been able to find any\nnumbers, but the trade press referred to the 4732 with terms like\n&quot;debacle,&quot; so they couldn't have been great.</p>\n<p>There were a few faults in the 4732's stars. First, IBM had made the decision to\nhandle the 4700 Finance Communication System as a complete rework of the 3600.\nThe 4700 controllers could support some 3600 peripherals, but 4700 peripherals\ncould <em>not</em> be used with 3600 controllers. Since 3600 systems were widely\ninstalled in banks, the compatibility choice created a situation where many of\nthe 4732's prospective buyers would end up having to replace a significant\namount of their other equipment, and then likely make software changes, in order\nto support the new machine. That might not have been so bad on its own had IBM's\ncompetitors not provided another way out.</p>\n<p>NCR made their fame in ATMs in part by equipping their contemporary models with\n3624 software emulation, making them a drop-in modernization option for existing\n3600 systems. In general, other ATM manufacturers had pursued a path of\ninteroperability, with multiprotocol ATMs that supported multiple hosts, and\nstandalone ATM host products that could interoperate with multiple backend\naccounting systems. For customers, buying an NCR or Diebold product that would\nwork with whatever they already used was a more appealing option than buying the\nentire IBM suite in one go. It also matched the development cycle of ATMs\nbetter: as a consumer-facing device, ATMs became part of the brand image of the\nbank, and were likely to see replacement more often than back-office devices\nlike teller terminals. NCR offered something like a regular refresh, while IBM\nwas still in a mode of generational releases that would completely replace the\nbank's computer systems.</p>\n<p><img alt=\"IBM 3614 promo photo\" src=\"https://computer.rip/static/img/ibm_atm/6.jpg\" /></p>\n<p>The 4732 and its 473x compatriots became the last real IBM ATMs. After a hiatus\nof roughly a decade, IBM reentered the ATM market by forming a joint venture\nwith Diebold called InterBold. The basic terms were that Diebold would sell its\nATMs in the US, and IBM would sell them overseas, where IBM had generally been\nthe more successful of the two brands. The IBM 478x series ATMs, which you might\nencounter in the UK for example, are the same as the Diebold 1000 series in the\nUS. InterBold was quite successful, becoming the dominant ATM manufacturer in\nthe US, and in 1998 Diebold bought out IBM's share.</p>\n<p>IBM had won the ATM market, and then lost it. Along the way, they left us with\nso much texture: DES's origins in the ATM, the 3624 PIN format, the dumb\nterminal or thin client model... even InterBold, IBM's protracted exit, gave us\nquite a legacy: now you know the reason that so many later ATMs ran OS/2. IBM,\na once great company, provided Diebold with their once great operating system.\nUnlike IBM, Diebold made it successful.</p>\n<div class=\"footnotes\">\n<ol>\n<li id=\"fn-1\">\n<p>Wikipedia calls it DTD-1 for some reason, but IBM sources consistently\nsay DSD-1. I'm not sure if the name changed, if DSD-1 and DTD-1 were slightly\ndifferent things, or if Wikipedia is simply wrong. One of the little mysteries\nof the universe.<a class=\"footnote\" href=\"#fnref-1\">&#8617;</a></p></li>\n<li id=\"fn-2\">\n<p>I probably need to explain that I am pointedly <em>not</em> explaining IBM model\nnumbers, which do follow various schemes but are nonetheless confusing. Bigger\nnumbers are sometimes later products but not always; some prefixes mean specific\nthings, other prefixes just identify product lines.<a class=\"footnote\" href=\"#fnref-2\">&#8617;</a></p></li>\n</ol>\n</div>"
}